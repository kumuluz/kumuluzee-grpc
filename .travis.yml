language: java
dist: trusty
jdk:
- openjdk8
env:
  global:
  - secure: GDQCOlxVuhJc2BzJ09YZzUI5ylvgznrPNbWX71JQR5HVeT1Sq2Nzjr5UzDvmqSdjx7Z4PSgJwh6L9cl8pPcBSVr1OCLm58+MfFZYngdQG6t5lvTaFWl+LEXHG28pO7OjDrzAZoFvyy1fwLvJG4yB9hU6hRPqGjTRbVDZK3NJsyk9B59KLlMNCQ303RNaZdF21WRzUixm+1MDSaXrlWdGJp8THI6NUYaGqRYaAj+grbIVwwBu8U1FE7OXkfyj7It+hvIeF6AFgL4s3elG5P67BWP+9dKGrw9VoYXjkHPOuPaUjznpggrQr8kdvgO+RmSDj1OeJeLbIp/0xZ/0XS2d14h2iSmCCi5knjanN0N7y1duHkb/byczmdM0OIKxJdRxSME/s1QhhuqvU4nezWauRpVd9hryfPj7zRGH9+/LOtVgvWieu0RQzATl5N3inInCALdMN0DiJdk1m7fwRRdfVlvyLKRl2sf3lCvxO+6T9nR3ZNy8OtU4UsH1GSssMmwOAmik104dn5i3KPm+HSpQPfElV7ZTahRoGxVNYbw/bzGG9YbtAXGcRzHvXULuUFhb7o+ljdhY5OYfToqCldt5lktFjrcjJYvcXNRRN43ZzColU6cls9eMx3QL+OwQMGsBcIcG00cxkb7mDVkf8epNie7UUv+wkkwBtbc63QHKJbQ=
  - secure: rTV0FiJq3pOIx7shnAdn8pqbInOf9YiTfLxhZ7Ut16+3unmXQ98iGhGwsqPabeSzvbyLl1B8yogLHl34Vl4rWUAGSyf0yGQqzEFian/KNTbgzHXgJmuVqZHUMSddaMWOeqbmO838CRQ3eoIBzbnHuqwhn+q0FybC1+lnfdUEcfD4UCp1AjxPiTr7zpmm+kb8BHXNjVu/U0EVO8Eaob4EVbkgISr4vApObGaqUqiuX9JYq5F1ISZuEaaUlJCnwMzn+j/u52V20oe42/OWg4Rk5CndpM27lY+56AVof+EtYw3VJGC510l9ogjqIugydzs5vuWSLskTu9SKSyu0UrRyWs26/jWfbQa9JWEWuUhezuq954vz/NwSfk+qIMcF+2vNYVgwyvj/hxvyTCdtv9Vvn9ey1FRusSNpKnzo0RycmK25icvQFsi0fDy3rsq+kvjwXL4sEsPp0XwkJTLPS6m2Y9DQZVg/2EL0a7jucDrXyQPmWjmsh50ADt1EbnTVZfp9CJAq3/CxmNlcir25z7bzEapR73vO9ZwGKkcftGzn7FItQGWX3jkbGnvFJnzJAI5mwitVNam2TioopgJwX4X2CiRsV9eF5UmGKFcN5YdYgS4fNkM3jfh2YzdVdw1BFJn5jYWkAU8JTnwrrSOLLFmA6QKqqG004xrV4pP9fLnEmas=
  - secure: PQR2EgX5xkcPCMro0TTjbrOZw+0D9Bejl8Zl2Vf5X9cciqA/Jy08A+izXwk8lKQuTYXeRk0/YwWMbPxWhHDwmHCUDBOCbDjqNXRYWTTiuXsKlqcKJOSEBShdHYPVKJwEl4Wr/Si2Hi6RvSjkrq4WdTJBBKtFxw0veYyoErsUDrn+TSOmiLYJ0CUfQQfXuUkVVVxRH84LGsdDLSebMJzxBdb8XzpRjdoGyIgjbJshnXDdyS/W/bLnpCStcZDCCHmG//ZkSOOGO6KlMnfJ06C45c3/k3/vZMfjoosNRSwk7wwFLN6G6/7Mx9FaDojTksJB/I/aqpY1uyc5zfQUaqFtNjkbaYJ/raoHnUPtwOlavDtllqfS2E1lfFrOqmT91dgCQId3tVV4l22cKR6RCzGdatiIiW8Ub8E3PuBzlSt5Mp60QmAKYtb4nvMFPLHu6Gnv1RF1bjSpIlBnlxEBipeNZvQUZKIDEeXKFsjPYC10O+cLGZKq38UVSuMwCpGtvme4OjdfNgiY2UIoS44gKWNlKH6RJ2bwPKy6wIqb2i6JnAEqXQQ8qkYg3S35w+TVTBwFM6Ny/tj3vpzEu5pDJwOFvvKqTmFxpXL+Ad8JjH4Lr15evRVjqjAqJWMOlIgSk1TMnLxPFnbfru1oAMJW1p8tBSmouvXWaI2PEPggQmq7eCg=
cache:
  directories:
  - "$HOME/.m2"
install: mvn clean install -DskipTests=true -V -U
script: mvn test
after_success:
- if [[ $TRAVIS_PULL_REQUEST == "false" && ($TRAVIS_BRANCH == "master" || $TRAVIS_TAG)
  ]]; then openssl aes-256-cbc -K $encrypted_5c8d100818d6_key -iv $encrypted_5c8d100818d6_iv
  -in gpg.tar.gz.enc -out gpg.tar.gz -d; tar xvf gpg.tar.gz; mvn source:jar javadoc:jar
  deploy -Pdeploy -DskipTests=true --settings ./settings.xml; fi
